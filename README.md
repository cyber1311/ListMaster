# ListMaster

## Содержание

- [Описание](#описание)
- [Стек](#стек)
- [Установка](#установка)
- [Экраны](#экраны)



## Описание

Это мобильное приложение ListMaster для планирования и управления списками для ОС iOS.

Приложение позволяет:

•	Регистрироваться новым пользователям

•	Авторизироваться зарегистрированным пользователям

•	Создавать, удалять и редактировать списки

•	Вести одновременно несколько списков

•	Создавать, удалять и редактировать группы пользователей

•	Делиться копией списка с другими пользователями или группами пользователей

•	Совместно редактировать список с другими пользователями или группами пользователей

•	Добавлять к пунктам списка изображения, дедлайн и напоминание


## Стек:

•	Swift

•	SwiftUI


## Установка

1. Клонируйте репозиторий:
   
   ```bash
   git clone https://github.com/cyber1311/ListMaster.git

2. Перейдите в директорию проекта:

   ```bash
   cd ListMaster

3. Откройте проект в Xcode:

   ```bash
   open ListMaster.xcodeproj

4. Выберите целевое устройство или симулятор в Xcode

5. Нажмите кнопку «Run» или используйте сочетание клавиш Cmd + R


## Экраны

К приложению были предъявлены следующие функциональные требования:
1.	Авторизация пользователя
2.	Регистрация пользователя
3.	Добавление/Удаление списка
4.	Просмотр/редактирование списка
5.	Возможность поделиться копией или оригиналом списка
6.	Возможность закрыть общий доступ для совместных списков
7.	Просмотр участников, имеющих общий доступ к списку
8.	Добавление/Удаление группы
9.	Просмотр/редактирование группы
10.	Просмотр/редактирование личных данных (имя/электронная почта/пароль)
11.	Удаление аккаунта
    
Для реализации данного функционала было разработано 16 экранов:

<img width="448" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/ae89334e-4517-4a6e-81d1-1ad9c0abdfc6">

### Экран авторизации

Если пользователь еще не входил в свой аккаунт на данном устройстве или вышел из аккаунта или его JWT токен истек, то при входе в приложение первым откроется экран авторизации.
На этом экране пользователю предлагается ввести электронную почту и пароль для входа. 
Если данные верны, устройство подключено к интернету и не возникло ошибок на сервере, то осуществляется переход на главный экран. 
Также данные пользователя сохраняются в UserDefaults.

<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/f0c920d1-062c-4cae-a556-1efae39460a5">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/9640f5e4-e719-4991-83bf-2c642107f6d6">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/cda7e6d0-25f9-4972-bc04-e9da2bcd6c43">

Для восстановления пароля в случае, если пользователь его забыл, он может нажать кнопку «Забыли пароль?» на экране авторизации. При нажатии этой кнопки откроется окно, где пользователю предложат ввести электронную почту, на которую был зарегистрирован аккаунт. 

После нажатия кнопки «Ок» пользователю на указанную почту отправляется письмо с проверочным кодом), который он должен ввести в окне «Код проверки».
Если код верный, то при нажатии кнопки «Ок» открывается окно «Восстановление пароля» (см. Рисунок 4в) с полем, куда пользователь вводит новый пароль. После ввода нового пароля и нажатия кнопки «Ок» на сервер отправляется запрос для обновления пароля и получения данных пользователя, которые в дальнейшем сохраняются в UserDefaults.
Если пользователь ввел почту, на которую не зарегистрирован аккаунт, то возникает окно с ошибкой. Если данные верны, пароль успешно обновился и не возникло ошибок, то осуществляется переход на главный экран.

<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/d43420a9-8381-4eb2-a5dc-2ae0ea0c484e">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/fda9035e-dd88-479e-adb0-23bf4f07bc55">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/7d0aea94-d603-4f3c-b467-a0420ff6eee9">
<img width="160" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/a022f0de-fc6f-40c0-82f1-d1fbc541036d">

### Экран регистрации

Если пользователь еще не регистрировался в данном приложении, то он с экрана авторизации может перейти к экрану регистрации по кнопке «Зарегистрироваться».

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/38be66df-b373-4d7c-aedd-8104f22e26ed">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/6a52c636-e139-4559-a77c-a2cf0c8f1864">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/d8497fa3-6bd9-4265-92ac-198e7cfd834c">

На этом экране пользователю предлагается ввести имя, электронную почту и пароль для регистрации. При нажатии кнопки «Зарегистрироваться» пользователю на указанную при регистрации почту отправляется проверочный код, который он должен ввести в окне «Код проверки»
Если код верный, то при нажатии кнопки «Ок» на сервер отправляется запрос на API маршрут «/users/add_user» для регистрации пользователя, а данные пользователя сохраняются в UserDefaults. Если пользователь ввел почту, на которую уже зарегистрирован аккаунт, то возникает окно с ошибкой. Если данные верны и не возникло ошибок, то осуществляется переход на главный экран.

### Главный экран

На этом экране пользователь может видеть все свои списки.
В верхнем меню есть кнопка «Edit», при нажатии на которую включается режим редактирования.
Также в правом верхнем углу есть кнопка с изображением силуэта человека. При нажатии этой кнопки осуществляется переход на экран профиля пользователя.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/efea2f2f-fc05-42cc-a947-3d56133128c3">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/13adb722-51e5-4eeb-83fb-578e003608f6">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/17bb57c3-6052-4db3-9435-9748150c7a39">

При долгом нажатии на один из списков возникает контекстное меню.
При нажатии кнопки «Дублировать список» список дублируется на главном экране.
При нажатии кнопки «Поделиться списком» осуществляется переход на экран «Поделиться списком».
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/ab93fa7f-e6ab-4342-ae81-10b1d14e66e3">

### Экран «Поделиться списком»

Списком можно поделиться, как с одним пользователем, так и с группой пользователей, используя переключатель «Для группы». Используя переключатель «Предоставить доступ к редактированию», можно поделиться копией списка или оригиналом с предоставлением доступа к редактированию.

Если пользователь хочет поделиться списком лишь с одним другим пользователем, то ему нужно ввести электронную почту пользователя, иначе – включить переключатель «Для группы» и выбрать группу пользователей, с которой хочет поделиться и к которой он сам также принадлежит
Если пользователь пытается поделиться списком с несуществующим пользователем, то возникает окно с ошибкой.
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/c9a74e6a-7578-4c54-bc5d-aba157f198fe">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/2559edca-feb1-447f-ba22-30a3415158ac">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/2b73946a-a72b-4213-b1bd-5a2f55d5a2b4">

### Экран профиля пользователя

На данном экране отображается имя и электронная почта пользователя, а также группы, которым он принадлежит. Также есть возможность создать новую группу, изменить имя, электронную почту или пароль, удалить аккаунт и выйти из аккаунта.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/affe1980-45ec-4b5a-9052-eed4639fe66d">

### Экран добавления новой группы

На данном экране есть поле для ввода названия новой группы

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/f890c0e4-b08a-44be-bd9f-4b3d9f15a93a">

### Экран редактирования группы

На данном экране отображаются владелец и участники группы. Также есть поле, в которое можно ввести электронную почту пользователя, которого нужно добавить в группу. 
Если пользователь вводит почту несуществующего пользователя, то возникает окно с ошибкой.  Если нет ошибок, то новый участник группы добавляется в секцию «Участники группы».

В верхнем правом углу есть кнопка «Edit». Если на нее нажать, то открывается режим редактирования.
Также в режиме редактирования появляется поле «Изменить название группы», в которое можно ввести новое название группы. 

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/c0ef8509-82e4-4c5b-810e-aa287b0a6050">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/87fa6d4e-b799-4a6c-9179-805f715d290a">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/edb9c2c0-25ec-4461-9952-e14c9c23c8bb">

### Экран просмотра группы

По нажатию на одну из групп на экране профиля, если пользователь не является владельцем группы, то он переходит на экран просмотра группы.

На экране отображаются владелец и участники группы. Также есть кнопка «Покинуть группу».

Если нет ошибок, то у пользователя, покинувшего группу, группа удаляется из списка групп, а у других участников этот пользователь удаляется из списка участников.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/b58b1f04-479a-4899-a438-ce68eaaa74c3">

### Экран изменения имени

На экране изменения имени есть поле для ввода нового имени.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/94d6bf34-60b4-484e-bc4f-44c0d486a24a">

### Экран изменения электронной почты

На экране изменения электронной почты есть поле для ввода новой электронной почты.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/ea58496d-71e6-474f-927e-c2439e521741">

### Экран изменения пароля

На экране изменения пароля есть поле для ввода старого пароля и поле для ввода нового пароля. 
Если пользователь вводит неверный старый пароль, то возникает окно с ошибкой. Если нет ошибок, то пароль пользователя обновляется.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/a2cc1031-300b-44af-940b-789aebcdcb52">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/f4904630-3901-412e-8f31-7941c2322605">

### Экран удаления аккаунта

На экране удаления аккаунта есть поле для ввода пароля. 
Если пользователь вводит неверный пароль, то возникает окно с ошибкой. 
Если данные верны, то осуществляется переход на экран авторизации, а данные пользователя и настройки в UserDefaults очищаются.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/ca8aa36b-0c21-44d8-845c-ad39d0569625">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/70ac126e-d1c9-4e30-8c3e-61bdba65d044">

### Экран списка

На экране списка пользователь может видеть все пункты списка. Для добавления нового пункта пользователь может ввести название нового пункт в поле «Новый пункт» и нажать на кнопку «+». 
Пункты сортируются по времени создания в возрастающем порядке – новый пункт добавляется вниз списка. Также пункты сортируются по состоянию выполнения. Все выполненные пункты опускаются вниз списка, а их название перечеркивается и выделяется зеленым цветом.
С помощью переключателя «Скрыть выполненное» можно отключить отображение выполненных пунктов.
Слева от пункта списка пользователь может добавить изображение.
В верхнем правом углу есть кнопка «Edit». Если на нее нажать, то открывается режим редактирования.
D режиме редактирования появляется поле «Изменить название списка», в которое можно ввести новое название списка. 

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/17aa7284-8cdc-490c-bca1-b60d1d338826">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/796ab7d3-884d-47ac-a395-86c5549bc749">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/85ecfd12-b768-4701-81ba-5948e18bfd9f">

### Экран «Управлять доступом»

У владельца списка на экране списка при общем доступе появляется кнопка «Управлять доступом», при нажатии которой осуществляется переход на экран «Управлять доступом».
На этом экране отображаются владелец списка и пользователи, имеющие доступ к этому списку. 

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/44f0cd91-c72d-4f84-b996-e15924c1d44e">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/eba3e8de-42a1-4085-b42d-3e16a7719901">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/afc8e4b2-5f91-4878-84b5-08a14b19f67d">

### Экран «Общий доступ»
У пользователя, которому открыт доступ к списку, на экране списка появляется кнопка «Общий доступ».
При нажатии этой кнопки осуществляется переход на экран «Общий доступ». На этом экране отображаются владелец списка и пользователи, имеющие доступ к этому списку.

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/5e5c3470-fbf9-43c6-ab86-14bb921ff42e">

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/690516af-6cb3-40ba-9610-74e7c7783051">

### Экран редактирования пункта

На этом экране отображаются название пункта, поле для описания, кнопки для добавления количества, напоминания, дедлайна и изображения, а также переключатель «Выполнено/Не выполнено».
Для того, чтобы сохранить все внесенные изменения, необходимо нажать на кнопку «Сохранить». 
Выбранное на экране редактирования пункта изображение после сохранения отображается слева от названия на экране списка. Если добавлено количество, напоминание, дедлайн и/или изображение, то у них справа или снизу появляется кнопка с изображением урны, по нажатию которой можно удалить свойство, а на его месте снова появится кнопка с добавлением. 

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/8a4e75c7-b5fd-4c71-9132-687323f4db07">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/dc0812c5-09a7-457f-a302-90ee9f5530a0">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/5c398a87-90d1-4c04-9e21-77c2af53a717">

Если дедлайн просрочен, то он на экране редактирования выделяется красным цветом. Аналогично красным цветом выделяется название пункта в списке на экране списка.

Если при просроченном дедлайне установить переключатель «Выполнено/Не выполнено» на «Выполнено», то дедлайн автоматически исчезнет, а на его месте снова появится кнопка «Добавить дедлайн».

<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/3ab651fe-15e7-4772-8b0a-c2e046aa43c2">
<img width="137" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/8643ce76-d32c-4329-b269-e3d5848b036e">

По наступлении времени дедлайна и/или напоминания пользователю приходят уведомления

<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/8d6c165d-e937-41dd-9879-003f9abf2878">
<img width="136" alt="image" src="https://github.com/cyber1311/ListMaster/assets/80820085/0261fd21-f98e-463b-bdd5-b9b4c1df64e6">
